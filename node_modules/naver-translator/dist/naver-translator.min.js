function NaverTranslator(t){"use strict";this.credentials=t,this.options={host:"openapi.naver.com",path:"/v1/language/{0}",port:443,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"*/*","X-Naver-Client-Id":this.credentials.client_id,"X-Naver-Client-Secret":this.credentials.client_secret}},this.SUPPORT_LANGUAGES={KO:"ko",EN:"en",JA:"ja",ZH_CN:"zh-CN",stringToType:function(t){var r=null;return Object.keys(this).forEach(function(e){this[e]===t&&(r=e)},this),r}},this.SUPPORT_TRANSLATE_PATTERN=[{source:this.SUPPORT_LANGUAGES.KO,target:this.SUPPORT_LANGUAGES.EN},{source:this.SUPPORT_LANGUAGES.KO,target:this.SUPPORT_LANGUAGES.JA},{source:this.SUPPORT_LANGUAGES.KO,target:this.SUPPORT_LANGUAGES.ZH_CN},{source:this.SUPPORT_LANGUAGES.EN,target:this.SUPPORT_LANGUAGES.KO},{source:this.SUPPORT_LANGUAGES.JA,target:this.SUPPORT_LANGUAGES.KO},{source:this.SUPPORT_LANGUAGES.ZH_CN,target:this.SUPPORT_LANGUAGES.KO}]}var https=require("https"),qs=require("querystring");NaverTranslator.prototype.getSupportTranslatePatterns=function(){"use strict";return this.SUPPORT_TRANSLATE_PATTERN},NaverTranslator.prototype.getSupportLanguages=function(){"use strict";return this.SUPPORT_LANGUAGES},NaverTranslator.prototype.call=function(t,r,e){"use strict";this.options.path=this.options.path.replace("{0}",t);var s=https.request(this.options,function(t){console.log("status:",t.statusCode);var r={};t.on("data",function(t){r=JSON.parse(t)}),t.on("end",function(){if(r.errorMessage)console.log("server error",JSON.stringify(r)),e(new Error(r),r);else if(r.message){var t=r.message.result.translatedText;console.log("Translate success",JSON.stringify(r)),e(t)}else e(r)}),t.on("error",function(t){console.log("translate response error",t),e(t)})});s.on("error",function(t){console.log("translate request error",t),e(t)}),s.write(qs.stringify(r)),s.end()},NaverTranslator.prototype.makeRequest=function(t,r,e,s){"use strict";s=s||"call",this[s](t,r,e)},NaverTranslator.prototype._validationParams=function(t){"use strict";if(!t||!t.text||!t.target)return console.log("params error",t),{error:new Error("params error")};var r;return this.SUPPORT_LANGUAGES.stringToType(t.source)||(r=new Error("Not support language : "+t.target)),r||this.SUPPORT_LANGUAGES.stringToType(t.target)||(r=new Error("Not support language : "+t.target)),r?(console.log("Not support language : "+t.target,t),{error:r}):{error:null}},NaverTranslator.prototype.translate=function(t,r){"use strict";var e=this._validationParams(t);e.error?(console.log("params error",t),r(e.error,t)):(t.source||(console.log("Set default source : ko"),t.source="ko"),this.makeRequest("translate",t,r))},module.exports=NaverTranslator;